# =============================================================================
# clang-uml Configuration
# =============================================================================
# Generates UML diagrams from C++ source code using Clang AST analysis.
# Output: PlantUML files (.puml)
# =============================================================================

# Compilation database location
compilation_database_dir: build

# Output directory for generated diagrams
output_directory: docs/uml

# Diagrams to generate
diagrams:

  # ===========================================================================
  # Class Diagram - Full Project Overview
  # ===========================================================================
  class_overview:
    type: class
    title: "Project Class Overview"
    glob:
      - include/*.h
      - include/**/*.h
      - src/*.cc
      - src/**/*.cc
    include:
      namespaces:
        - my_project
    exclude:
      namespaces:
        - my_project::detail
        - my_project::internal
    plantuml:
      before:
        - "skinparam classAttributeIconSize 0"
        - "skinparam classFontSize 12"
        - "skinparam packageStyle rectangle"
        - "hide empty members"
      style:
        class:
          - "skinparam class {"
          - "  BackgroundColor White"
          - "  BorderColor Black"
          - "  ArrowColor Black"
          - "}"
    generate_method_arguments: full
    generate_packages: true
    package_type: namespace
    relationships:
      - inheritance
      - composition
      - aggregation
      - association
      - dependency

  # ===========================================================================
  # Class Diagram - Per Namespace (Detailed)
  # ===========================================================================
  class_detailed:
    type: class
    title: "Detailed Class Diagram"
    glob:
      - include/*.h
      - include/**/*.h
    include:
      namespaces:
        - my_project
    plantuml:
      before:
        - "skinparam classAttributeIconSize 0"
        - "skinparam classFontSize 11"
        - "left to right direction"
    generate_method_arguments: full
    generate_packages: true
    package_type: namespace
    include_relations_also_as_members: true
    relationships:
      - inheritance
      - composition
      - aggregation
      - association
      - dependency

  # ===========================================================================
  # Sequence Diagram - Main Flow
  # ===========================================================================
  sequence_main:
    type: sequence
    title: "Main Program Sequence"
    glob:
      - src/main.cc
    include:
      namespaces:
        - my_project
    start_from:
      - function: "main"
    plantuml:
      before:
        - "skinparam sequenceMessageAlign center"
        - "skinparam responseMessageBelowArrow true"
        - "skinparam sequenceParticipant underline"
        - "autonumber"
    generate_method_arguments: abbreviated
    participants_order:
      - main
      - Calculator
      - StringUtils
    message_render_mode: full

  # ===========================================================================
  # Sequence Diagram - Per Function (Template)
  # ===========================================================================
  # Duplicate and modify for specific functions you want to trace
  sequence_calculator:
    type: sequence
    title: "Calculator Operations Sequence"
    glob:
      - src/calculator.cc
      - include/calculator.h
    include:
      namespaces:
        - my_project
    start_from:
      - function: "my_project::Calculator::Add"
      - function: "my_project::Calculator::Divide"
    plantuml:
      before:
        - "skinparam sequenceMessageAlign center"
        - "autonumber"
    generate_method_arguments: full
    combine_free_functions_into_file_participants: true

  # ===========================================================================
  # Include Dependency Diagram
  # ===========================================================================
  include_dependencies:
    type: include
    title: "Include Dependencies"
    glob:
      - include/*.h
      - include/**/*.h
      - src/*.cc
      - src/**/*.cc
    include:
      paths:
        - include
        - src
    exclude:
      paths:
        - build
        - docs
        - test
        - tests
    plantuml:
      before:
        - "skinparam componentStyle rectangle"
        - "left to right direction"
    generate_system_headers: false

  # ===========================================================================
  # Package Diagram - Architecture Overview
  # ===========================================================================
  package_overview:
    type: package
    title: "Package Overview"
    glob:
      - include/*.h
      - include/**/*.h
      - src/*.cc
      - src/**/*.cc
    include:
      namespaces:
        - my_project
    plantuml:
      before:
        - "skinparam packageStyle folder"
        - "skinparam linetype ortho"
    package_type: namespace
    generate_packages: true
